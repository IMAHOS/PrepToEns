<!DOCTYPE html>
<html lang="fr">
<head>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2933584289526056"
     crossorigin="anonymous"></script>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JXB7PLLX85"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-JXB7PLLX85');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Concours de Mathématiques - CRPE Maroc 2024</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        :root {
            --primary-color: #2c786c;
            --secondary-color: #004445;
            --accent-color: #f8b400;
            --light-color: #faf5e4;
            --success-color: #28a745;
            --danger-color: #dc3545;
            --warning-color: #ffc107;
            --info-color: #17a2b8;
        }
        
        body {
            background-color: var(--light-color);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            padding-top: 80px;
            color: #333;
            line-height: 1.7;
        }
        
        .main-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 68, 69, 0.1);
            padding: 2.5rem;
            margin-bottom: 3rem;
            border: 2px solid rgba(44, 120, 108, 0.1);
            max-width: 1000px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .question-card {
            margin-bottom: 2.5rem;
            border-radius: 15px;
            background: white;
            box-shadow: 0 5px 15px rgba(0, 68, 69, 0.08);
            border: 2px solid rgba(44, 120, 108, 0.15);
            transition: all 0.3s ease;
            overflow: hidden;
        }
        
        .question-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 68, 69, 0.15);
            border-color: rgba(44, 120, 108, 0.3);
        }
        
        .card-header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            font-weight: 700;
            border-bottom: none;
            padding: 1.2rem 1.5rem;
            border-radius: 13px 13px 0 0 !important;
        }
        
        .card-body {
            padding: 1.8rem;
        }
        
        .card-title {
            color: var(--secondary-color);
            font-weight: 700;
            font-size: 1.2rem;
            margin-bottom: 1.2rem;
            position: relative;
            padding-left: 1.5rem;
        }
        
        .card-title:before {
            content: "";
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 8px;
            height: 25px;
            background: var(--accent-color);
            border-radius: 5px;
        }
        
        .card-text {
            color: #444;
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
        }
        
        .list-group-item {
            border: none;
            border-left: 4px solid transparent;
            margin-bottom: 0.5rem;
            border-radius: 8px !important;
            padding: 1rem 1.5rem;
            font-size: 1.05rem;
            transition: all 0.2s;
            background-color: rgba(250, 245, 228, 0.5);
        }
        
        .list-group-item:hover {
            background-color: rgba(44, 120, 108, 0.08);
            border-left-color: var(--accent-color);
        }
        
        .form-check-input {
            width: 1.2em;
            height: 1.2em;
            margin-right: 0.8rem;
            margin-top: 0.2rem;
            border: 2px solid #ced4da;
        }
        
        .form-check-input:checked {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }
        
        .btn-primary {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
            padding: 0.6rem 2.2rem;
            font-weight: 600;
            border-radius: 30px;
            box-shadow: 0 4px 10px rgba(44, 120, 108, 0.3);
        }
        
        .btn-primary:hover {
            background-color: var(--secondary-color);
            border-color: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0, 68, 69, 0.4);
        }
        
        .btn-outline-primary {
            color: var(--primary-color);
            border-color: var(--primary-color);
            font-weight: 600;
            border-radius: 30px;
        }
        
        .btn-outline-primary:hover {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }
        
        .correct-answer {
            background-color: rgba(40, 167, 69, 0.15) !important;
            border-left: 4px solid var(--success-color) !important;
        }
        
        .incorrect-answer {
            background-color: rgba(220, 53, 69, 0.1) !important;
            border-left: 4px solid var(--danger-color) !important;
        }
        
        .explanation {
            display: none;
            background-color: rgba(248, 180, 0, 0.08);
            border-radius: 10px;
            padding: 1.3rem;
            margin-top: 1.5rem;
            border-left: 4px solid var(--accent-color);
            font-size: 1.05rem;
        }
        
        .explanation strong {
            color: var(--secondary-color);
        }
        
        .fixed-timer {
            position: fixed;
            top: 90px;
            right: 30px;
            z-index: 1000;
            width: 180px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0, 68, 69, 0.15);
            padding: 15px;
            text-align: center;
            display: none;
            border: 2px solid rgba(44, 120, 108, 0.2);
        }
        
        .fixed-timer.active {
            display: block;
            animation: fadeIn 0.5s;
        }
        
        .fixed-timer .timer-text {
            font-size: 1rem;
            margin-bottom: 8px;
            color: var(--primary-color);
            font-weight: 700;
        }
        
        .fixed-timer #fixed-timer-display {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--secondary-color);
            letter-spacing: 1px;
        }
        
        .navbar {
            box-shadow: 0 3px 15px rgba(0, 68, 69, 0.1);
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)) !important;
            padding: 0.8rem 1rem;
        }
        
        .navbar-brand {
            font-size: 1.5rem;
            font-weight: 800;
            color: white !important;
        }
        
        .navbar-brand i {
            color: var(--accent-color);
        }
        
        .navbar-text {
            font-size: 1.1rem;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.9) !important;
        }
        
        .nav-link {
            font-weight: 600;
            padding: 0.5rem 1.2rem !important;
            color: rgba(255, 255, 255, 0.8) !important;
            transition: all 0.2s;
        }
        
        .nav-link:hover, .nav-link.active {
            color: white !important;
            transform: translateY(-2px);
        }
        
        .nav-link.active {
            background-color: rgba(255, 255, 255, 0.15);
            border-radius: 30px;
        }
        
        h1.display-4 {
            font-weight: 800;
            color: var(--secondary-color);
            margin-bottom: 1rem;
            position: relative;
            display: inline-block;
        }
        
        h1.display-4:after {
            content: "";
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 70px;
            height: 4px;
            background: var(--accent-color);
            border-radius: 2px;
        }
        
        .lead {
            color: #555;
            font-size: 1.25rem;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .progress {
            height: 35px;
            background-color: #f1f1f1;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .progress-bar {
            font-size: 1.1rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: width 0.6s ease;
        }
        
        #final-score {
            font-size: 2.3rem;
            font-weight: 800;
            color: var(--primary-color);
            margin-bottom: 1.5rem;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Style pour les rappels pendant l'examen */
        .exam-reminder {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: white;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            z-index: 1000;
            max-width: 300px;
            display: none;
            border: 2px solid var(--accent-color);
        }
        
        .exam-reminder.active {
            display: block;
            animation: fadeIn 0.5s;
        }
        
        .exam-reminder-header {
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .exam-reminder-content {
            font-size: 0.9rem;
        }
        
        .close-reminder {
            cursor: pointer;
            color: var(--danger-color);
            font-size: 1.2rem;
        }
        
        /* Style pour la barre de progression des questions */
        .questions-progress {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background-color: white;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            z-index: 1000;
            display: none;
        }
        
        .questions-progress.active {
            display: block;
            animation: fadeIn 0.5s;
        }
        
        .questions-progress-bar {
            height: 10px;
            background-color: #e9ecef;
            border-radius: 5px;
            margin-top: 10px;
            overflow: hidden;
        }
        
        .questions-progress-fill {
            height: 100%;
            background-color: var(--primary-color);
            width: 0%;
            transition: width 0.3s ease;
        }
        
        @media (max-width: 991.98px) {
            .main-container {
                padding: 1.8rem;
                border-radius: 15px;
            }
            
            .fixed-timer {
                top: 80px;
                right: 15px;
                width: 150px;
                padding: 12px;
            }
            
            body {
                padding-top: 70px;
            }
            
            .card-body {
                padding: 1.5rem;
            }
            
            .exam-reminder {
                bottom: 10px;
                right: 10px;
                max-width: 250px;
            }
            
            .questions-progress {
                bottom: 10px;
                left: 10px;
            }
        }
        
        @media (max-width: 767.98px) {
            .main-container {
                padding: 1.5rem 1rem;
                border-radius: 12px;
            }
            
            .fixed-timer {
                top: 70px;
                right: 10px;
                width: 120px;
                padding: 10px;
            }
            
            h1.display-4 {
                font-size: 1.8rem;
            }
            
            .lead {
                font-size: 1.1rem;
            }
            
            .card-title {
                font-size: 1.1rem;
            }
            
            .card-text, .list-group-item {
                font-size: 1rem;
            }
            
            .btn-primary, .btn-outline-primary {
                padding: 0.5rem 1.5rem;
                font-size: 0.95rem;
            }
            
            .exam-reminder {
                max-width: 200px;
                font-size: 0.8rem;
            }
            
            .questions-progress {
                font-size: 0.8rem;
            }
        }
        
        /* Style spécifique pour les formules mathématiques */
        .math-formula {
            font-size: 1.2rem;
            margin: 1rem 0;
            padding: 0.5rem;
            background-color: #f8f9fa;
            border-radius: 5px;
            display: inline-block;
        }
        
        /* Style pour les figures géométriques */
        .figure-container {
            text-align: center;
            margin: 1.5rem 0;
            padding: 1rem;
            background-color: #f8f9fa;
            border-radius: 8px;
        }
        
        .figure-title {
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: var(--secondary-color);
        }
        
        .figure-description {
            font-style: italic;
            color: #666;
            margin-top: 0.5rem;
        }
        
        /* Style pour les images des figures */
        .figure-img {
            max-width: 100%;
            height: auto;
            border-radius: 5px;
        }
        
        /* Style pour les questions avec des tableaux */
        .question-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }
        
        .question-table th, .question-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        
        .question-table th {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>
    <!-- Navbar fixe en haut -->
  
    <!-- Timer fixe qui apparaît quand on commence le test -->
    <div class="fixed-timer" id="fixedTimer">
        <div class="timer-text">Temps restant</div>
        <div id="fixed-timer-display">30:00</div>
    </div>

    <!-- Rappel pendant l'examen -->
    <div class="exam-reminder" id="examReminder">
        <div class="exam-reminder-header">
            <span>Conseil</span>
            <span class="close-reminder" id="closeReminder">&times;</span>
        </div>
        <div class="exam-reminder-content" id="reminderContent">
            Prenez votre temps pour lire chaque question attentivement avant de répondre.
        </div>
    </div>

    <!-- Barre de progression des questions -->
    <div class="questions-progress" id="questionsProgress">
        <div>Progression: <span id="answeredQuestions">0</span>/<span id="totalQuestions">20</span> questions</div>
        <div class="questions-progress-bar">
            <div class="questions-progress-fill" id="questionsProgressFill"></div>
        </div>
    </div>

    <div class="container py-5">
        <div class="text-center mb-5">
            <h1 class="display-4">Concours de Mathématiques</h1>
            <p class="lead">Épreuve de mathématiques </p>
        </div>

        <div class="main-container">
            <div class="card mb-4 border-0 shadow-sm">
                <div class="card-header">
                    <h4 class="mb-0">Instructions</h4>
                </div>
                <div class="card-body">
                    <ul class="mb-4">
                        <li class="mb-2">L'épreuve contient 20 questions (de Q1 à Q20)</li>
                        <li class="mb-2">Vous disposez de 30 minutes pour répondre à toutes les questions</li>
                        <li class="mb-2">Pour chaque question, 5 choix de réponses sont proposés (A, B, C, D, E)</li>
                        <li class="mb-2">Une seule réponse est correcte pour chaque question</li>
                        <li>Chaque réponse correcte rapporte 1 point</li>
                    </ul>
                    <div class="text-center mt-4">
                        <button id="start-timer" class="btn btn-primary btn-lg px-5">
                            <i class="fas fa-play-circle me-2"></i>Commencer le test
                        </button>
                    </div>
                </div>
            </div>

            <section id="qcm-section" class="d-none">
                <!-- Question Q1 -->
                <div class="card question-card">
                    <div class="card-body">
                        <h5 class="card-title">Question 1</h5>
                        <p class="card-text">On pose: \( M = \left(\frac{10}{8}\right)^2 \times \left(1 + 3^{-1}\right) \). On a:</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q1" value="a">
                                A. \( M = \frac{25}{24} \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q1" value="b">
                                B. \( M = \frac{50}{12} \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q1" value="c">
                                C. \( M = \frac{25}{12} \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q1" value="d">
                                D. \( M = \frac{5}{3} \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q1" value="e">
                                E. Aucun des choix proposés n'est juste
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q1">
                            <strong>Réponse correcte:</strong> C - \( M = \frac{25}{12} \)<br>
                            Calcul: \( \left(\frac{10}{8}\right)^2 = \left(\frac{5}{4}\right)^2 = \frac{25}{16} \)<br>
                            \( 1 + 3^{-1} = 1 + \frac{1}{3} = \frac{4}{3} \)<br>
                            \( M = \frac{25}{16} \times \frac{4}{3} = \frac{25 \times 4}{16 \times 3} = \frac{100}{48} = \frac{25}{12} \)
                        </div>
                    </div>
                </div>

                <!-- Question Q2 -->
                <div class="card question-card">
                    <div class="card-body">
                        <h5 class="card-title">Question 2</h5>
                        <p class="card-text">L'encadrement du nombre \( \frac{22}{7} \) au centième près est :</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q2" value="a">
                                A. \( 3,100 < \frac{22}{7} < 3,200 \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q2" value="b">
                                B. \( 3,14 < \frac{22}{7} < 3,15 \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q2" value="c">
                                C. \( 3,142 < \frac{22}{7} < 3,143 \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q2" value="d">
                                D. \( 3,1428 < \frac{22}{7} < 3,1429 \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q2" value="e">
                                E. Aucun des choix proposés n'est juste
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q2">
                            <strong>Réponse correcte:</strong> C - \( 3,142 < \frac{22}{7} < 3,143 \)<br>
                            Calcul: \( \frac{22}{7} \approx 3,142857 \)<br>
                            L'encadrement au centième près est donc \( 3,142 < \frac{22}{7} < 3,143 \)
                        </div>
                    </div>
                </div>

                <!-- Question Q3 -->
                <div class="card question-card">
                    <div class="card-body">
                        <h5 class="card-title">Question 3</h5>
                        <p class="card-text">Dans un pays, les élections pour la chambre des députés se déroulent tous les 4 ans et celles pour le conseil communal tous les 6 ans. Les deux élections ont eu lieu en 1984. À quelle année les deux élections auront-elles lieu de nouveau ?</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q3" value="a">
                                A. 1996
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q3" value="b">
                                B. 1994
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q3" value="c">
                                C. 1990
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q3" value="d">
                                D. 1988
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q3" value="e">
                                E. Aucun des choix proposés n'est juste
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q3">
                            <strong>Réponse correcte:</strong> A - 1996<br>
                            Il faut trouver le PPCM de 4 et 6, qui est 12.<br>
                            1984 + 12 = 1996
                        </div>
                    </div>
                </div>

                <!-- Question Q4 -->
                <div class="card question-card">
                    <div class="card-body">
                        <h5 class="card-title">Question 4</h5>
                        <p class="card-text">Une association caritative dispose de 180 caisses de farine et 120 caisses de riz. Elle veut composer des paniers contenant le même nombre de caisses de farine et le même nombre de caisses de riz en utilisant toutes les caisses pour les répartir équitablement auprès des familles d'un village. Le nombre maximal de paniers à réaliser est :</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q4" value="a">
                                A. 120
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q4" value="b">
                                B. 180
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q4" value="c">
                                C. 150
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q4" value="d">
                                D. 60
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q4" value="e">
                                E. Aucun des choix proposés n'est juste
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q4">
                            <strong>Réponse correcte:</strong> D - 60<br>
                            Il faut trouver le PGCD de 180 et 120.<br>
                            PGCD(180, 120) = 60
                        </div>
                    </div>
                </div>

                <!-- Question Q5 -->
                <div class="card question-card">
                    <div class="card-body">
                        <h5 class="card-title">Question 5</h5>
                        <p class="card-text">La racine carrée de \( 3 - 2\sqrt{2} \) est :</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q5" value="a">
                                A. \( \sqrt{2} - 1 \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q5" value="b">
                                B. \( 1 - \sqrt{2} \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q5" value="c">
                                C. \( \sqrt{3} - \sqrt{2} \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q5" value="d">
                                D. \( 3 - 2\sqrt{2} \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q5" value="e">
                                E. Aucun des choix proposés n'est juste
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q5">
                            <strong>Réponse correcte:</strong> A - \( \sqrt{2} - 1 \)<br>
                            On cherche \( \sqrt{a} - \sqrt{b} \) tel que \( (\sqrt{a} - \sqrt{b})^2 = 3 - 2\sqrt{2} \)<br>
                            Développement: \( a + b - 2\sqrt{ab} = 3 - 2\sqrt{2} \)<br>
                            Donc \( a + b = 3 \) et \( ab = 2 \) ⇒ \( a = 2 \), \( b = 1 \)<br>
                            Donc \( \sqrt{3 - 2\sqrt{2}} = \sqrt{2} - 1 \)
                        </div>
                    </div>
                </div>

                <!-- Question Q6 -->
                <div class="card question-card">
                    <div class="card-body">
                        <h5 class="card-title">Question 6</h5>
                        <p class="card-text">On considère le nombre \( B = 12 \times 13 \times 14 \times 15 \times 16 \times 17 \times 18 \times 19 \times 20 \). Le nombre B est divisible par :</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q6" value="a">
                                A. 29
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q6" value="b">
                                B. 31
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q6" value="c">
                                C. 300
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q6" value="d">
                                D. 22
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q6" value="e">
                                E. Aucun des choix proposés n'est juste
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q6">
                            <strong>Réponse correcte:</strong> C - 300<br>
                            Analyse des options:<br>
                            A. 29 est premier et n'apparaît pas dans la factorisation<br>
                            B. 31 est premier et n'apparaît pas<br>
                            C. 300 = 3 × 100 = 3 × 4 × 25 → tous ces facteurs sont présents (3 dans 12, 15, 18; 4 dans 12, 16, 20; 25 pas directement mais 5×5 dans 15×20)<br>
                            D. 22 = 2×11 → 11 n'apparaît pas
                        </div>
                    </div>
                </div>

                <!-- Question Q7 -->
                <div class="card question-card">
                    <div class="card-body">
                        <h5 class="card-title">Question 7</h5>
                        <p class="card-text">Le cerveau humain est composé de 100 milliards de neurones. À partir de 30 ans, ce nombre de neurones baisse d'environ 100 000 par jour. En considérant qu'une année contient 365 jours, le nombre de neurones d'un humain âgé de 50 ans est :</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q7" value="a">
                                A. \( 9,927 \times 10^{10} \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q7" value="b">
                                B. \( 99,27 \times 10^{10} \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q7" value="c">
                                C. \( 2,3 \times 10^9 \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q7" value="d">
                                D. \( 23 \times 10^2 \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q7" value="e">
                                E. Aucun des choix proposés n'est juste
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q7">
                            <strong>Réponse correcte:</strong> A - \( 9,927 \times 10^{10} \)<br>
                            Calcul:<br>
                            Nombre d'années: 50 - 30 = 20 ans<br>
                            Nombre de jours: 20 × 365 = 7300 jours<br>
                            Neurones perdus: 100 000 × 7300 = 730 000 000 = 0,73 milliards<br>
                            Neurones restants: 100 - 0,73 = 99,27 milliards = \( 99,27 \times 10^9 = 9,927 \times 10^{10} \)
                        </div>
                    </div>
                </div>

                <!-- Question Q8 -->
                <div class="card question-card">
                    <div class="card-body">
                        <h5 class="card-title">Question 8</h5>
                        <p class="card-text">Une boulangère vend deux types de pain : le pain de farine blanche à 2 Dh la pièce et le pain de farine complète à 3 Dh la pièce. Elle a vendu 65 pièces de pain pour 170 Dh. Quel est le nombre de pain vendu de chaque type ?</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q8" value="a">
                                A. 40 pièces du pain de farine blanche et 25 pièces du pain de farine complète
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q8" value="b">
                                B. 35 pièces du pain de farine blanche et 30 pièces du pain de farine complète
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q8" value="c">
                                C. 30 pièces du pain de farine blanche et 35 pièces du pain de farine complète
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q8" value="d">
                                D. 25 pièces du pain de farine blanche et 40 pièces du pain de farine complète
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q8" value="e">
                                E. Aucun des choix proposés n'est juste
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q8">
                            <strong>Réponse correcte:</strong> D - 25 pièces du pain de farine blanche et 40 pièces du pain de farine complète<br>
                            Système d'équations:<br>
                            Soit x le nombre de pains à 2 Dh, y le nombre de pains à 3 Dh<br>
                            \( x + y = 65 \)<br>
                            \( 2x + 3y = 170 \)<br>
                            Résolution: \( y = 65 - x \) ⇒ \( 2x + 3(65 - x) = 170 \) ⇒ \( 2x + 195 - 3x = 170 \) ⇒ \( -x = -25 \) ⇒ \( x = 25 \)<br>
                            Donc \( y = 40 \)
                        </div>
                    </div>
                </div>

                <!-- Question Q9 -->
                <div class="card question-card">
                    <div class="card-body">
                        <h5 class="card-title">Question 9</h5>
                        <p class="card-text">Soit f la fonction définie sur l'intervalle [-1;2] et (Cf) sa courbe dans un repère orthonormé (O;i,j). Parmi les tableaux de variations ci-dessous lequel représente la fonction f ?</p>
                        <div class="figure-container">
                            <div class="figure-title">Figure pour Q9</div>
                            <img src="./qcmPhoto69.png" alt="Graphique de la fonction f" class="figure-img">
                            <div class="figure-description">(Description du graphique: fonction croissante puis décroissante avec maximum en x=0)</div>
                        </div>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q9" value="a">
                                A. 
                                <table class="question-table">
                                    <tr><th>x</th><td>-1</td><td>0</td><td>2</td></tr>
                                    <tr><th>f(x)</th><td>1</td><td>3</td><td>-2</td></tr>
                                </table>
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q9" value="b">
                                B. 
                                <table class="question-table">
                                    <tr><th>x</th><td>-1</td><td>0</td><td>2</td></tr>
                                    <tr><th>f(x)</th><td>1</td><td>5</td><td>-2</td></tr>
                                </table>
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q9" value="c">
                                C. 
                                <table class="question-table">
                                    <tr><th>x</th><td>-1</td><td>0</td><td>2</td></tr>
                                    <tr><th>f(x)</th><td>2</td><td>1</td><td>2</td></tr>
                                </table>
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q9" value="d">
                                D. 
                                <table class="question-table">
                                    <tr><th>x</th><td>-1</td><td>0</td><td>2</td></tr>
                                    <tr><th>f(x)</th><td>2</td><td>1</td><td>5</td></tr>
                                </table>
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q9" value="e">
                                E. Aucun des choix proposés n'est juste
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q9">
                            <strong>Réponse correcte:</strong> A<br>
                            La fonction est croissante sur [-1,0] puis décroissante sur [0,2], avec un maximum en x=0.<br>
                            Le tableau A correspond à cette description.
                        </div>
                    </div>
                </div>

                <!-- Question Q10 -->
                <div class="card question-card">
                    <div class="card-body">
                        <h5 class="card-title">Question 10</h5>
                        <p class="card-text">Une voiture a effectué 96 km en 1h12min. En supposant que son mouvement est uniforme, quelle distance a-t-elle parcouru en 2,5 heures ?</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q10" value="a">
                                A. 214,28 km
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q10" value="b">
                                B. 166,66 km
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q10" value="c">
                                C. 195 km
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q10" value="d">
                                D. 200 km
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q10" value="e">
                                E. Aucun des choix proposés n'est juste
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q10">
                            <strong>Réponse correcte:</strong> D - 200 km<br>
                            Calcul:<br>
                            1h12min = 1,2 heures<br>
                            Vitesse = Distance / Temps = 96 / 1,2 = 80 km/h<br>
                            Distance en 2,5 heures = 80 × 2,5 = 200 km
                        </div>
                    </div>
                </div>

                <!-- Question Q11 -->
                <div class="card question-card">
                    <div class="card-body">
                        <h5 class="card-title">Question 11</h5>
                        <p class="card-text">Dans une classe de 30 élèves, 18 étudient l'anglais, 15 étudient l'espagnol et 5 étudient les deux langues. Combien d'élèves n'étudient aucune de ces deux langues ?</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q11" value="a">
                                A. 2
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q11" value="b">
                                B. 3
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q11" value="c">
                                C. 5
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q11" value="d">
                                D. 7
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q11" value="e">
                                E. Aucun des choix proposés n'est juste
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q11">
                            <strong>Réponse correcte:</strong> A - 2<br>
                            Utilisation du principe d'inclusion-exclusion:<br>
                            Nombre d'élèves étudiant au moins une langue = (18 + 15) - 5 = 28<br>
                            Nombre d'élèves n'étudiant aucune langue = 30 - 28 = 2
                        </div>
                    </div>
                </div>

                <!-- Question Q12 -->
                <div class="card question-card">
                    <div class="card-body">
                        <h5 class="card-title">Question 12</h5>
                        <p class="card-text">Un triangle ABC a pour côtés AB = 5 cm, BC = 7 cm et AC = 8 cm. Quelle est la mesure de l'angle B (en degrés) ?</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q12" value="a">
                                A. 30°
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q12" value="b">
                                B. 45°
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q12" value="c">
                                C. 60°
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q12" value="d">
                                D. 75°
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q12" value="e">
                                E. Aucun des choix proposés n'est juste
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q12">
                            <strong>Réponse correcte:</strong> C - 60°<br>
                            Utilisation du théorème d'Al-Kashi:<br>
                            \( AC^2 = AB^2 + BC^2 - 2 \times AB \times BC \times \cos(B) \)<br>
                            \( 64 = 25 + 49 - 70 \cos(B) \) ⇒ \( -10 = -70 \cos(B) \) ⇒ \( \cos(B) = \frac{1}{7} \)<br>
                            \( B \approx \arccos(\frac{1}{7}) \approx 81,79° \) (Aucune des options n'est correcte, donc E)
                        </div>
                    </div>
                </div>

                <!-- Question Q13 -->
                <div class="card question-card">
                    <div class="card-body">
                        <h5 class="card-title">Question 13</h5>
                        <p class="card-text">Un magasin offre une réduction de 20% sur tous ses articles. Un article coûte 400 Dh après réduction. Quel était son prix initial ?</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q13" value="a">
                                A. 480 Dh
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q13" value="b">
                                B. 500 Dh
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q13" value="c">
                                C. 520 Dh
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q13" value="d">
                                D. 550 Dh
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q13" value="e">
                                E. Aucun des choix proposés n'est juste
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q13">
                            <strong>Réponse correcte:</strong> B - 500 Dh<br>
                            Calcul:<br>
                            Prix après réduction = Prix initial × 0,8<br>
                            400 = Prix initial × 0,8 ⇒ Prix initial = 400 / 0,8 = 500 Dh
                        </div>
                    </div>
                </div>

                <!-- Question Q14 -->
                <div class="card question-card">
                    <div class="card-body">
                        <h5 class="card-title">Question 14</h5>
                        <p class="card-text">Résoudre l'équation \( \log_2(x) + \log_2(x - 2) = 3 \) :</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q14" value="a">
                                A. x = 4
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q14" value="b">
                                B. x = -2
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q14" value="c">
                                C. x = 4 ou x = -2
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q14" value="d">
                                D. x = 8
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q14" value="e">
                                E. Aucun des choix proposés n'est juste
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q14">
                            <strong>Réponse correcte:</strong> A - x = 4<br>
                            Résolution:<br>
                            \( \log_2(x(x - 2)) = 3 \) ⇒ \( x(x - 2) = 2^3 = 8 \)<br>
                            \( x^2 - 2x - 8 = 0 \) ⇒ \( x = \frac{2 \pm \sqrt{4 + 32}}{2} = \frac{2 \pm 6}{2} \) ⇒ x = 4 ou x = -2<br>
                            Mais x doit être > 0 et x-2 > 0 ⇒ x > 2 ⇒ seule solution x = 4
                        </div>
                    </div>
                </div>

                <!-- Question Q15 -->
                <div class="card question-card">
                    <div class="card-body">
                        <h5 class="card-title">Question 15</h5>
                        <p class="card-text">Une urne contient 5 boules rouges, 3 boules vertes et 2 boules bleues. On tire successivement deux boules sans remise. Quelle est la probabilité que les deux boules soient de la même couleur ?</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q15" value="a">
                                A. \( \frac{1}{5} \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q15" value="b">
                                B. \( \frac{14}{45} \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q15" value="c">
                                C. \( \frac{1}{2} \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q15" value="d">
                                D. \( \frac{2}{5} \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q15" value="e">
                                E. Aucun des choix proposés n'est juste
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q15">
                            <strong>Réponse correcte:</strong> B - \( \frac{14}{45} \)<br>
                            Calcul:<br>
                            Probabilité deux rouges: \( \frac{5}{10} \times \frac{4}{9} = \frac{20}{90} \)<br>
                            Probabilité deux vertes: \( \frac{3}{10} \times \frac{2}{9} = \frac{6}{90} \)<br>
                            Probabilité deux bleues: \( \frac{2}{10} \times \frac{1}{9} = \frac{2}{90} \)<br>
                            Total: \( \frac{20 + 6 + 2}{90} = \frac{28}{90} = \frac{14}{45} \)
                        </div>
                    </div>
                </div>

                <!-- Question Q16 -->
                <div class="card question-card">
                    <div class="card-body">
                        <h5 class="card-title">Question 16</h5>
                        <p class="card-text">La somme des solutions de l'équation \( x^2 - 5x + 6 = 0 \) est :</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q16" value="a">
                                A. 5
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q16" value="b">
                                B. -5
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q16" value="c">
                                C. 6
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q16" value="d">
                                D. -6
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q16" value="e">
                                E. Aucun des choix proposés n'est juste
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q16">
                            <strong>Réponse correcte:</strong> A - 5<br>
                            Selon les relations coefficients-racines, pour \( ax^2 + bx + c = 0 \), la somme des racines est \( -\frac{b}{a} \).<br>
                            Ici, \( -\frac{-5}{1} = 5 \)
                        </div>
                    </div>
                </div>

                <!-- Question Q17 -->
                <div class="card question-card">
                    <div class="card-body">
                        <h5 class="card-title">Question 17</h5>
                        <p class="card-text">Un capital de 10 000 Dh est placé à un taux d'intérêt annuel de 5%, composé annuellement. Quelle sera la valeur du capital après 3 ans ?</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q17" value="a">
                                A. 11 500 Dh
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q17" value="b">
                                B. 11 576,25 Dh
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q17" value="c">
                                C. 11 600 Dh
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q17" value="d">
                                D. 12 000 Dh
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q17" value="e">
                                E. Aucun des choix proposés n'est juste
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q17">
                            <strong>Réponse correcte:</strong> B - 11 576,25 Dh<br>
                            Calcul:<br>
                            \( C = C_0 \times (1 + t)^n = 10\,000 \times (1,05)^3 \)<br>
                            \( = 10\,000 \times 1,157625 = 11\,576,25 \) Dh
                        </div>
                    </div>
                </div>

                <!-- Question Q18 -->
                <div class="card question-card">
                    <div class="card-body">
                        <h5 class="card-title">Question 18</h5>
                        <p class="card-text">Dans un repère orthonormé, quelle est l'équation de la droite passant par les points A(1, 2) et B(3, 6) ?</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q18" value="a">
                                A. y = x + 1
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q18" value="b">
                                B. y = 2x
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q18" value="c">
                                C. y = 2x + 1
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q18" value="d">
                                D. y = 3x - 1
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q18" value="e">
                                E. Aucun des choix proposés n'est juste
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q18">
                            <strong>Réponse correcte:</strong> B - y = 2x<br>
                            Calcul:<br>
                            Coefficient directeur: \( m = \frac{6 - 2}{3 - 1} = \frac{4}{2} = 2 \)<br>
                            Équation: \( y - 2 = 2(x - 1) \) ⇒ \( y = 2x - 2 + 2 = 2x \)
                        </div>
                    </div>
                </div>

                <!-- Question Q19 -->
                <div class="card question-card">
                    <div class="card-body">
                        <h5 class="card-title">Question 19</h5>
                        <p class="card-text">Quelle est la dérivée de la fonction \( f(x) = e^{2x} \times \ln(x) \) ?</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q19" value="a">
                                A. \( 2e^{2x} \ln(x) + \frac{e^{2x}}{x} \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q19" value="b">
                                B. \( e^{2x} \left(2 \ln(x) + \frac{1}{x}\right) \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q19" value="c">
                                C. \( \frac{e^{2x}}{x} \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q19" value="d">
                                D. \( 2e^{2x} \ln(x) \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q19" value="e">
                                E. Aucun des choix proposés n'est juste
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q19">
                            <strong>Réponse correcte:</strong> B - \( e^{2x} \left(2 \ln(x) + \frac{1}{x}\right) \)<br>
                            Dérivée d'un produit: \( (uv)' = u'v + uv' \)<br>
                            \( u = e^{2x} \) ⇒ \( u' = 2e^{2x} \)<br>
                            \( v = \ln(x) \) ⇒ \( v' = \frac{1}{x} \)<br>
                            \( f'(x) = 2e^{2x} \ln(x) + e^{2x} \times \frac{1}{x} = e^{2x} \left(2 \ln(x) + \frac{1}{x}\right) \)
                        </div>
                    </div>
                </div>

                <!-- Question Q20 -->
                <div class="card question-card">
                    <div class="card-body">
                        <h5 class="card-title">Question 20</h5>
                        <p class="card-text">Un dé cubique équilibré est lancé deux fois. Quelle est la probabilité d'obtenir un total de 7 points ?</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q20" value="a">
                                A. \( \frac{1}{6} \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q20" value="b">
                                B. \( \frac{1}{12} \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q20" value="c">
                                C. \( \frac{5}{36} \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q20" value="d">
                                D. \( \frac{7}{36} \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q20" value="e">
                                E. Aucun des choix proposés n'est juste
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q20">
                            <strong>Réponse correcte:</strong> A - \( \frac{1}{6} \)<br>
                            Combinaisons donnant 7: (1,6), (2,5), (3,4), (4,3), (5,2), (6,1) ⇒ 6 possibilités<br>
                            Nombre total de résultats possibles: 6 × 6 = 36<br>
                            Probabilité: \( \frac{6}{36} = \frac{1}{6} \)
                        </div>
                    </div>
                </div>

                <div class="text-center mt-5">
                    <button id="submit-answers" class="btn btn-primary btn-lg px-5">
                        <i class="fas fa-check-circle me-2"></i>Soumettre les réponses
                    </button>
                </div>
            </section>

            <!-- Section Résultats -->
            <section id="results-section" class="d-none">
                <div class="card border-0 shadow-sm">
                    <div class="card-header">
                        <h4 class="mb-0">Résultats du test</h4>
                    </div>
                    <div class="card-body">
                        <div class="text-center mb-5">
                            <h3 id="final-score">Score: 0/20</h3>
                            <div class="progress mt-3 mb-4">
                                <div id="final-progress" class="progress-bar" role="progressbar" style="width: 0%"></div>
                            </div>
                        </div>
                        
                        <div class="d-flex justify-content-between">
                            <button id="review-answers" class="btn btn-outline-primary">
                                <i class="fas fa-search me-2"></i>Voir les réponses
                            </button>
                            <button id="return-to-page" class="btn btn-primary d-none">
                                <i class="fas fa-arrow-left me-2"></i>Retour à la page (crpe/maths/qsm_sp)
                            </button>
                            <button id="restart-quiz" class="btn btn-primary">
                                <i class="fas fa-redo me-2"></i>Recommencer
                            </button>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Variables
            const totalQuestions = 20;
            let timeLeft = 30 * 60; // 30 minutes en secondes
            let timerInterval;
            let userAnswers = {};
            let quizSubmitted = false;
            let reminderInterval;
            
            // Rappels contextuels liés aux questions
            const reminders = {
                general: [
                    "Relisez bien la question avant de répondre.",
                    "Vérifiez vos calculs avant de choisir une réponse.",
                    "Ne passez pas trop de temps sur une seule question.",
                    "Si vous n'êtes pas sûr, éliminez d'abord les réponses manifestement fausses.",
                    "Gardez un œil sur le temps restant."
                ],
                q1: "Pour les fractions, pensez à simplifier avant de multiplier.",
                q2: "L'encadrement au centième signifie 2 chiffres après la virgule.",
                q3: "PPCM = Plus Petit Commun Multiple - utile pour trouver des coïncidences dans le temps.",
                q4: "PGCD = Plus Grand Commun Diviseur - utile pour diviser en parts égales.",
                q5: "Pour simplifier √(a ± b√c), cherchez x et y tels que (√x ± √y)² donne l'expression sous la racine.",
                q6: "Pour la divisibilité, décomposez en facteurs premiers.",
                q7: "Attention aux unités (milliards, millions) dans les conversions.",
                q8: "Pour les problèmes de mélange, établissez un système d'équations.",
                q9: "Un tableau de variation montre les variations de la fonction (croissance/décroissance).",
                q10: "Vitesse = Distance / Temps - attention aux unités de temps.",
                q11: "Pour les problèmes d'ensembles, utilisez un diagramme de Venn.",
                q12: "Théorème d'Al-Kashi (loi des cosinus) : a² = b² + c² - 2bc cos(α).",
                q13: "Prix réduit = Prix initial × (1 - taux de réduction).",
                q14: "logₐ(b) + logₐ(c) = logₐ(b×c) - attention au domaine de définition.",
                q15: "Probabilité = (Cas favorables) / (Cas possibles) - attention aux tirages successifs sans remise.",
                q16: "Pour ax² + bx + c = 0, somme des racines = -b/a, produit = c/a.",
                q17: "Intérêts composés : C = C₀ × (1 + t)ⁿ où t est le taux, n le nombre de périodes.",
                q18: "Équation droite passant par A(x₁,y₁) et B(x₂,y₂) : pente m = (y₂-y₁)/(x₂-x₁).",
                q19: "Dérivée de eᵘ : u'eᵘ - Dérivée de ln(u) : u'/u.",
                q20: "Pour les dés, comptez les combinaisons favorables sur le total (36 pour 2 dés)."
            };
            
            // Éléments DOM
            const startTimerBtn = document.getElementById('start-timer');
            const fixedTimer = document.getElementById('fixedTimer');
            const fixedTimerDisplay = document.getElementById('fixed-timer-display');
            const submitBtn = document.getElementById('submit-answers');
            const reviewBtn = document.getElementById('review-answers');
            const restartBtn = document.getElementById('restart-quiz');
            const returnToPageBtn = document.getElementById('return-to-page');
            const qcmSection = document.getElementById('qcm-section');
            const resultsSection = document.getElementById('results-section');
            const examReminder = document.getElementById('examReminder');
            const reminderContent = document.getElementById('reminderContent');
            const closeReminder = document.getElementById('closeReminder');
            const questionsProgress = document.getElementById('questionsProgress');
            const answeredQuestionsEl = document.getElementById('answeredQuestions');
            const questionsProgressFill = document.getElementById('questionsProgressFill');
            const totalQuestionsEl = document.getElementById('totalQuestions');
            
            // Initialisation
            totalQuestionsEl.textContent = totalQuestions;
            
            // Démarrer le test
            startTimerBtn.addEventListener('click', function() {
                startTimer();
                this.disabled = true;
                fixedTimer.classList.add('active');
                qcmSection.classList.remove('d-none');
                examReminder.classList.add('active');
                questionsProgress.classList.add('active');
                startReminders();
                updateProgress();
                qcmSection.scrollIntoView({ behavior: 'smooth' });
            });
            
            // Fermer le rappel
            closeReminder.addEventListener('click', function() {
                examReminder.classList.remove('active');
            });
            
            // Fonction pour démarrer le timer
            function startTimer() {
                updateTimerDisplay();
                
                timerInterval = setInterval(function() {
                    timeLeft--;
                    updateTimerDisplay();
                    
                    if (timeLeft <= 0) {
                        clearInterval(timerInterval);
                        submitQuiz();
                    }
                }, 1000);
            }
            
            // Fonction pour afficher le temps restant
            function updateTimerDisplay() {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                const timeString = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                fixedTimerDisplay.textContent = timeString;
                
                if (timeLeft < 300) { // 5 minutes restantes
                    fixedTimerDisplay.classList.add('text-danger');
                }
            }
            
            // Fonction pour démarrer les rappels
            function startReminders() {
                // Afficher le premier rappel immédiatement
                showRandomReminder();
                
                // Changer de rappel toutes les 2 minutes
                reminderInterval = setInterval(showRandomReminder, 120000);
                
                // Ajouter des écouteurs pour les rappels contextuels
                document.querySelectorAll('input[type="radio"]').forEach(input => {
                    input.addEventListener('focus', function() {
                        const questionName = this.name;
                        if (reminders[questionName]) {
                            showContextualReminder(questionName);
                        }
                    });
                });
            }
            
            // Fonction pour afficher un rappel aléatoire
            function showRandomReminder() {
                const randomIndex = Math.floor(Math.random() * reminders.general.length);
                reminderContent.textContent = reminders.general[randomIndex];
                examReminder.classList.add('active');
            }
            
            // Fonction pour afficher un rappel contextuel
            function showContextualReminder(questionName) {
                reminderContent.textContent = reminders[questionName];
                examReminder.classList.add('active');
            }
            
            // Fonction pour mettre à jour la progression
            function updateProgress() {
                const answered = document.querySelectorAll('input[type="radio"]:checked').length;
                answeredQuestionsEl.textContent = answered;
                const progress = (answered / totalQuestions) * 100;
                questionsProgressFill.style.width = `${progress}%`;
            }
            
            // Écouter les changements de réponses
            document.querySelectorAll('input[type="radio"]').forEach(input => {
                input.addEventListener('change', updateProgress);
            });
            
            // Soumettre les réponses
            submitBtn.addEventListener('click', function() {
                if (confirm("Êtes-vous sûr de vouloir soumettre vos réponses ?")) {
                    submitQuiz();
                }
            });
            
            // Revoir les réponses
            reviewBtn.addEventListener('click', function() {
                reviewAnswers();
            });
            
            // Retour à la page spécifiée
            returnToPageBtn.addEventListener('click', function() {
                window.location.href = 'crpe/maths/qsm_sp';
            });
            
            // Recommencer le quiz
            restartBtn.addEventListener('click', function() {
                if (confirm("Voulez-vous vraiment recommencer le test ? Toutes vos réponses seront perdues.")) {
                    resetQuiz();
                }
            });
            
            // Fonction pour soumettre le quiz
            function submitQuiz() {
                if (quizSubmitted) return;
                
                clearInterval(timerInterval);
                clearInterval(reminderInterval);
                quizSubmitted = true;
                fixedTimer.classList.remove('active');
                examReminder.classList.remove('active');
                questionsProgress.classList.remove('active');
                
                collectAnswers();
                const score = calculateScore();
                showResults(score);
                showAnswers();
                disableInputs();
            }
            
            // Fonction pour collecter les réponses
            function collectAnswers() {
                userAnswers = {};
                
                for (let i = 1; i <= totalQuestions; i++) {
                    const selectedOption = document.querySelector(`input[name="q${i}"]:checked`);
                    if (selectedOption) {
                        userAnswers[`q${i}`] = selectedOption.value;
                    }
                }
            }
            
            // Fonction pour calculer le score
            function calculateScore() {
                let score = 0;
                const correctAnswers = {
                    q1: 'c',
                    q2: 'c',
                    q3: 'a',
                    q4: 'd',
                    q5: 'a',
                    q6: 'c',
                    q7: 'a',
                    q8: 'd',
                    q9: 'a',
                    q10: 'd',
                    q11: 'a',
                    q12: 'e', // La réponse correcte n'est pas dans les options
                    q13: 'b',
                    q14: 'a',
                    q15: 'b',
                    q16: 'a',
                    q17: 'b',
                    q18: 'b',
                    q19: 'b',
                    q20: 'a'
                };
                
                for (const question in userAnswers) {
                    if (correctAnswers[question] && userAnswers[question] === correctAnswers[question]) {
                        score++;
                    }
                }
                
                return score;
            }
            
            // Fonction pour afficher les réponses correctes/incorrectes
            function showAnswers() {
                const correctAnswers = {
                    q1: 'c',
                    q2: 'c',
                    q3: 'a',
                    q4: 'd',
                    q5: 'a',
                    q6: 'c',
                    q7: 'a',
                    q8: 'd',
                    q9: 'a',
                    q10: 'd',
                    q11: 'a',
                    q12: 'e',
                    q13: 'b',
                    q14: 'a',
                    q15: 'b',
                    q16: 'a',
                    q17: 'b',
                    q18: 'b',
                    q19: 'b',
                    q20: 'a'
                };
                
                for (let i = 1; i <= totalQuestions; i++) {
                    const questionId = `q${i}`;
                    const explanation = document.getElementById(`explanation-${questionId}`);
                    
                    // Afficher l'explication pour chaque question
                    if (explanation) {
                        explanation.style.display = 'block';
                    }
                    
                    // Marquer les réponses correctes et incorrectes
                    if (userAnswers[questionId]) {
                        const selectedInput = document.querySelector(`input[name="${questionId}"][value="${userAnswers[questionId]}"]`);
                        if (selectedInput) {
                            const userAnswerElement = selectedInput.parentElement;
                            
                            if (userAnswers[questionId] === correctAnswers[questionId]) {
                                userAnswerElement.classList.add('correct-answer');
                            } else {
                                userAnswerElement.classList.add('incorrect-answer');
                                
                                // Marquer aussi la bonne réponse
                                const correctInput = document.querySelector(`input[name="${questionId}"][value="${correctAnswers[questionId]}"]`);
                                if (correctInput) {
                                    correctInput.parentElement.classList.add('correct-answer');
                                }
                            }
                        }
                    } else {
                        // Si aucune réponse n'a été donnée, marquer la bonne réponse
                        const correctInput = document.querySelector(`input[name="${questionId}"][value="${correctAnswers[questionId]}"]`);
                        if (correctInput) {
                            correctInput.parentElement.classList.add('correct-answer');
                        }
                    }
                }
            }
            
            // Fonction pour afficher les résultats
            function showResults(score) {
                qcmSection.classList.add('d-none');
                resultsSection.classList.remove('d-none');
                
                document.getElementById('final-score').textContent = `Score: ${score}/${totalQuestions}`;
                
                const percentage = Math.round((score / totalQuestions) * 100);
                const progressBar = document.getElementById('final-progress');
                progressBar.style.width = `${percentage}%`;
                progressBar.textContent = `${percentage}%`;
                
                if (percentage < 50) {
                    progressBar.className = 'progress-bar bg-danger';
                } else if (percentage < 75) {
                    progressBar.className = 'progress-bar bg-warning';
                } else {
                    progressBar.className = 'progress-bar bg-success';
                }
                
                // Afficher le bouton de retour
                returnToPageBtn.classList.remove('d-none');
                
                resultsSection.scrollIntoView({ behavior: 'smooth' });
            }
            
            // Fonction pour désactiver les inputs
            function disableInputs() {
                const inputs = document.querySelectorAll('input[type="radio"]');
                inputs.forEach(input => {
                    input.disabled = true;
                });
            }
            
            // Fonction pour revoir les réponses
            function reviewAnswers() {
                qcmSection.classList.remove('d-none');
                resultsSection.classList.add('d-none');
                qcmSection.scrollIntoView({ behavior: 'smooth' });
            }
            
            // Fonction pour réinitialiser le quiz
            function resetQuiz() {
                timeLeft = 30 * 60;
                userAnswers = {};
                quizSubmitted = false;
                
                clearInterval(timerInterval);
                clearInterval(reminderInterval);
                fixedTimerDisplay.textContent = '30:00';
                fixedTimerDisplay.classList.remove('text-danger');
                startTimerBtn.disabled = false;
                
                const inputs = document.querySelectorAll('input[type="radio"]');
                inputs.forEach(input => {
                    input.checked = false;
                    input.disabled = false;
                    input.parentElement.classList.remove('correct-answer', 'incorrect-answer');
                });
                
                const explanations = document.querySelectorAll('.explanation');
                explanations.forEach(explanation => {
                    explanation.style.display = 'none';
                });
                
                qcmSection.classList.add('d-none');
                resultsSection.classList.add('d-none');
                examReminder.classList.remove('active');
                questionsProgress.classList.remove('active');
                questionsProgressFill.style.width = '0%';
                answeredQuestionsEl.textContent = '0';
                returnToPageBtn.classList.add('d-none');
                
                window.scrollTo(0, 0);
            }
        });
    </script>
</body>
</html>