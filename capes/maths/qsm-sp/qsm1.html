<!DOCTYPE html>
<html lang="fr">
<head>
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2933584289526056"
     crossorigin="anonymous"></script>

    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JXB7PLLX85"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-JXB7PLLX85');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Concours de Mathématiques - CRFPE 2024</title>
    <!-- MathJax pour le rendu des formules mathématiques -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #2c786c;
            --secondary-color: #004445;
            --accent-color: #f8b400;
            --light-color: #faf5e4;
            --success-color: #28a745;
            --danger-color: #dc3545;
            --warning-color: #ffc107;
            --info-color: #17a2b8;
        }
        
        body {
            background-color: var(--light-color);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            padding-top: 80px;
            color: #333;
            line-height: 1.7;
        }
        
        .main-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 68, 69, 0.1);
            padding: 2.5rem;
            margin-bottom: 3rem;
            border: 2px solid rgba(44, 120, 108, 0.1);
            max-width: 1000px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .question-card {
            margin-bottom: 2.5rem;
            border-radius: 15px;
            background: white;
            box-shadow: 0 5px 15px rgba(0, 68, 69, 0.08);
            border: 2px solid rgba(44, 120, 108, 0.15);
            transition: all 0.3s ease;
            overflow: hidden;
        }
        
        .question-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 68, 69, 0.15);
            border-color: rgba(44, 120, 108, 0.3);
        }
        
        .card-header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            font-weight: 700;
            border-bottom: none;
            padding: 1.2rem 1.5rem;
            border-radius: 13px 13px 0 0 !important;
        }
        
        .card-body {
            padding: 1.8rem;
        }
        
        .card-title {
            color: var(--secondary-color);
            font-weight: 700;
            font-size: 1.2rem;
            margin-bottom: 1.2rem;
            position: relative;
            padding-left: 1.5rem;
        }
        
        .card-title:before {
            content: "";
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 8px;
            height: 25px;
            background: var(--accent-color);
            border-radius: 5px;
        }
        
        .card-text {
            color: #444;
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
        }
        
        .list-group-item {
            border: none;
            border-left: 4px solid transparent;
            margin-bottom: 0.5rem;
            border-radius: 8px !important;
            padding: 1rem 1.5rem;
            font-size: 1.05rem;
            transition: all 0.2s;
            background-color: rgba(250, 245, 228, 0.5);
        }
        
        .list-group-item:hover {
            background-color: rgba(44, 120, 108, 0.08);
            border-left-color: var(--accent-color);
        }
        
        .form-check-input {
            width: 1.2em;
            height: 1.2em;
            margin-right: 0.8rem;
            margin-top: 0.2rem;
            border: 2px solid #ced4da;
        }
        
        .form-check-input:checked {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }
        
        .btn-primary {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
            padding: 0.6rem 2.2rem;
            font-weight: 600;
            border-radius: 30px;
            box-shadow: 0 4px 10px rgba(44, 120, 108, 0.3);
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            background-color: var(--secondary-color);
            border-color: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0, 68, 69, 0.4);
        }
        
        .btn-outline-primary {
            color: var(--primary-color);
            border-color: var(--primary-color);
            font-weight: 600;
            border-radius: 30px;
            transition: all 0.3s ease;
        }
        
        .btn-outline-primary:hover {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
            color: white;
        }
        
        .correct-answer {
            background-color: rgba(40, 167, 69, 0.15) !important;
            border-left: 4px solid var(--success-color) !important;
        }
        
        .incorrect-answer {
            background-color: rgba(220, 53, 69, 0.1) !important;
            border-left: 4px solid var(--danger-color) !important;
        }
        
        .explanation {
            display: none;
            background-color: rgba(248, 180, 0, 0.08);
            border-radius: 10px;
            padding: 1.3rem;
            margin-top: 1.5rem;
            border-left: 4px solid var(--accent-color);
            font-size: 1.05rem;
            animation: fadeIn 0.5s ease-out;
        }
        
        .explanation strong {
            color: var(--secondary-color);
        }
        
        .fixed-timer {
            position: fixed;
            top: 90px;
            right: 30px;
            z-index: 1000;
            width: 180px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0, 68, 69, 0.15);
            padding: 15px;
            text-align: center;
            display: none;
            border: 2px solid rgba(44, 120, 108, 0.2);
            animation: fadeIn 0.5s ease-out;
        }
        
        .fixed-timer.active {
            display: block;
        }
        
        .fixed-timer .timer-text {
            font-size: 1rem;
            margin-bottom: 8px;
            color: var(--primary-color);
            font-weight: 700;
        }
        
        .fixed-timer #fixed-timer-display {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--secondary-color);
            letter-spacing: 1px;
        }
        
        .fixed-timer.warning {
            background-color: #fff3cd;
            border-color: var(--warning-color);
        }
        
        .fixed-timer.danger {
            background-color: #f8d7da;
            border-color: var(--danger-color);
            animation: pulse 1s infinite;
        }
        
        .navbar {
            box-shadow: 0 3px 15px rgba(0, 68, 69, 0.1);
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)) !important;
            padding: 0.8rem 1rem;
            transition: all 0.3s ease;
        }
        
        .navbar-brand {
            font-size: 1.5rem;
            font-weight: 800;
            color: white !important;
            display: flex;
            align-items: center;
        }
        
        .navbar-brand i {
            color: var(--accent-color);
            margin-right: 10px;
            font-size: 1.3em;
        }
        
        .navbar-text {
            font-size: 1.1rem;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.9) !important;
        }
        
        .nav-link {
            font-weight: 600;
            padding: 0.5rem 1.2rem !important;
            color: rgba(255, 255, 255, 0.8) !important;
            transition: all 0.2s;
            border-radius: 30px;
            margin: 0 2px;
        }
        
        .nav-link:hover, .nav-link.active {
            color: white !important;
            transform: translateY(-2px);
            background-color: rgba(255, 255, 255, 0.15);
        }
        
        h1.display-4 {
            font-weight: 800;
            color: var(--secondary-color);
            margin-bottom: 1rem;
            position: relative;
            display: inline-block;
        }
        
        h1.display-4:after {
            content: "";
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 70px;
            height: 4px;
            background: var(--accent-color);
            border-radius: 2px;
        }
        
        .lead {
            color: #555;
            font-size: 1.25rem;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .progress {
            height: 35px;
            background-color: #f1f1f1;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .progress-bar {
            font-size: 1.1rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: width 0.6s ease;
        }
        
        #final-score {
            font-size: 2.3rem;
            font-weight: 800;
            color: var(--primary-color);
            margin-bottom: 1.5rem;
        }
        
        .score-feedback {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            font-weight: 600;
        }
        
        .score-excellent {
            color: var(--success-color);
        }
        
        .score-good {
            color: var(--primary-color);
        }
        
        .score-average {
            color: var(--warning-color);
        }
        
        .score-poor {
            color: var(--danger-color);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }
        
        .math-formula {
            font-family: "Times New Roman", Times, serif;
            font-size: 1.1em;
            margin: 10px 0;
            padding: 5px;
            background-color: rgba(250, 245, 228, 0.5);
            border-radius: 5px;
            display: inline-block;
        }
        
        .section-divider {
            border-top: 3px solid var(--primary-color);
            margin: 40px 0;
            position: relative;
        }
        
        .section-divider-text {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            background-color: white;
            padding: 0 20px;
            color: var(--primary-color);
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .hidden-section {
            display: none;
        }
        
        .question-number {
            display: inline-block;
            width: 30px;
            height: 30px;
            background-color: var(--primary-color);
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 30px;
            margin-right: 10px;
            font-weight: bold;
        }
        
        /* Styles responsives */
        @media (max-width: 991.98px) {
            .main-container {
                padding: 1.8rem;
                border-radius: 15px;
            }
            
            .fixed-timer {
                top: 80px;
                right: 15px;
                width: 150px;
                padding: 12px;
            }
            
            body {
                padding-top: 70px;
            }
            
            .card-body {
                padding: 1.5rem;
            }
            
            h1.display-4 {
                font-size: 2.2rem;
            }
        }
        
        @media (max-width: 767.98px) {
            .main-container {
                padding: 1.5rem 1rem;
                border-radius: 12px;
            }
            
            .fixed-timer {
                top: 70px;
                right: 10px;
                width: 120px;
                padding: 10px;
                font-size: 0.9rem;
            }
            
            #fixed-timer-display {
                font-size: 1.2rem;
            }
            
            h1.display-4 {
                font-size: 1.8rem;
            }
            
            .lead {
                font-size: 1.1rem;
            }
            
            .card-title {
                font-size: 1.1rem;
            }
            
            .card-text, .list-group-item {
                font-size: 1rem;
            }
            
            .btn-primary, .btn-outline-primary {
                padding: 0.5rem 1.5rem;
                font-size: 0.95rem;
            }
            
            .navbar-brand {
                font-size: 1.2rem;
            }
            
            .navbar-text {
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container">
            <a class="navbar-brand" href="../../../index.html">
                <i class="fas fa-chalkboard-teacher me-2"></i>Concours Enseignement
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="../../../index.html">Accueil</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="../../../PROPOS/index.html">À Propos</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../../../contact/contact.html">Contact</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Fixed Timer -->
    <div class="fixed-timer" id="fixedTimer">
        <div class="timer-text">Temps restant</div>
        <div id="fixed-timer-display">30:00</div>
    </div>

    <!-- Main Content -->
    <div class="container py-5">
        <div class="text-center mb-5">
            <h1 class="display-4">Concours de Mathématiques</h1>
            <p class="lead">Épreuve de spécialité Mathématiques</p>
        </div>

        <!-- Instructions Section -->
        <div class="main-container" id="instructions-section">
            <div class="card mb-4 border-0 shadow-sm">
                <div class="card-header">
                    <h4 class="mb-0"><i class="fas fa-info-circle me-2"></i>Instructions</h4>
                </div>
                <div class="card-body">
                    <ul class="mb-4">
                        <li class="mb-2"><i class="fas fa-check-circle text-primary me-2"></i>L'épreuve contient 20 questions (de Q1 à Q20)</li>
                        <li class="mb-2"><i class="fas fa-check-circle text-primary me-2"></i>Vous disposez de 30 minutes pour répondre à toutes les questions</li>
                        <li class="mb-2"><i class="fas fa-check-circle text-primary me-2"></i>Pour chaque question, 4 choix de réponses sont proposés (A, B, C, D)</li>
                        <li class="mb-2"><i class="fas fa-check-circle text-primary me-2"></i>Une seule réponse est correcte pour chaque question</li>
                        <li><i class="fas fa-check-circle text-primary me-2"></i>Chaque réponse correcte rapporte 1 point</li>
                    </ul>
                    <div class="alert alert-info">
                        <i class="fas fa-exclamation-circle me-2"></i><strong>Attention :</strong> Le chronomètre démarre dès que vous cliquez sur "Commencer le test" et ne peut pas être mis en pause.
                    </div>
                    <div class="text-center mt-4">
                        <button id="start-timer" class="btn btn-primary btn-lg px-5">
                            <i class="fas fa-play-circle me-2"></i>Commencer le test
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- QCM Section -->
        <div class="main-container hidden-section" id="qcm-section">
            <section>
                <div class="section-divider">
                    <span class="section-divider-text">Partie 1 (Questions 1-20)</span>
                </div>

                <!-- Question 1 -->
                <div class="question-card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h4 class="mb-0">Question 1</h4>
                        <span class="badge bg-primary">1 point</span>
                    </div>
                    <div class="card-body">
                        <p class="card-text">La somme de la série numérique \[ \sum_{k=0}^{\infty} \frac{(\ln 3)^k}{(k+1)!} \] est égale à :</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q1" value="a">
                                A. \(\ln (3)\)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q1" value="b">
                                B. \(2\ln (3)\)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q1" value="c">
                                C. \(\frac{1}{\ln 3}\)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q1" value="d">
                                D. \(\frac{2}{\ln 3}\)
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q1">
                            <strong>Explication :</strong> La série donnée peut être réécrite comme \(\frac{1}{\ln 3} \sum_{k=0}^{\infty} \frac{(\ln 3)^{k+1}}{(k+1)!} = \frac{1}{\ln 3} (e^{\ln 3} - 1) = \frac{2}{\ln 3}\).
                        </div>
                    </div>
                </div>

                <!-- Question 2 -->
                <div class="question-card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h4 class="mb-0">Question 2</h4>
                        <span class="badge bg-primary">1 point</span>
                    </div>
                    <div class="card-body">
                        <p class="card-text">On considère la fonction \(F\) définie sur \([e, +\infty[\) par : \(F(x) = \int_1^{\ln x} \left( \frac{e^t-1}{t} \right) dt\). Alors la fonction \(F\) est dérivable sur \([e, +\infty[\) et \(F'(x)\) est égale à :</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q2" value="a">
                                A. \(\frac{x-1}{\ln x}\)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q2" value="b">
                                B. \(\frac{x-1}{x\ln x}\)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q2" value="c">
                                C. \(\frac{x^2-1}{\ln x}\)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q2" value="d">
                                D. \(\frac{x-1}{x^2\ln x}\)
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q2">
                            <strong>Explication :</strong> En utilisant le théorème fondamental du calcul intégral et la règle de dérivation en chaîne, on trouve \(F'(x) = \frac{e^{\ln x} - 1}{\ln x} \cdot \frac{1}{x} = \frac{x-1}{x\ln x}\).
                        </div>
                    </div>
                </div>

                <!-- Question 3 -->
                <div class="question-card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h4 class="mb-0">Question 3</h4>
                        <span class="badge bg-primary">1 point</span>
                    </div>
                    <div class="card-body">
                        <p class="card-text">Laquelle des parties suivantes est un sous-groupe de \((\mathbb{Z}, +)\) ?</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q3" value="a">
                                A. \(8\mathbb{Z} \cup 4\mathbb{Z}\)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q3" value="b">
                                B. \(6\mathbb{Z} \cup 4\mathbb{Z}\)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q3" value="c">
                                C. \(5\mathbb{Z} \cup 4\mathbb{Z}\)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q3" value="d">
                                D. Aucune des propositions
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q3">
                            <strong>Explication :</strong> Aucune des unions proposées ne forme un sous-groupe de \((\mathbb{Z}, +)\) car l'union de deux sous-groupes n'est généralement pas un sous-groupe.
                        </div>
                    </div>
                </div>

                <!-- Question 4 -->
                <div class="question-card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h4 class="mb-0">Question 4</h4>
                        <span class="badge bg-primary">1 point</span>
                    </div>
                    <div class="card-body">
                        <p class="card-text">Soient \(f\) l'application définie de \(\mathbb{C}\) vers \(\mathbb{C}\) par \(f(z) = (\sqrt{3}+i)z + \sqrt{3}\) et \(E = \{ i\sqrt{3} + 2e^{it}, t \in [0, 2\pi]\}\). Alors \(f(E)\) est un cercle de centre \(\Omega(\omega)\) et de rayon \(R\) avec :</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q4" value="a">
                                A. \(\omega = 2i\) et \(R = 2\)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q4" value="b">
                                B. \(\omega = -3i\) et \(R = 4\)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q4" value="c">
                                C. \(\omega = 3i\) et \(R = 4\)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q4" value="d">
                                D. \(\omega = -2i\) et \(R = 2\)
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q4">
                            <strong>Explication :</strong> La fonction \(f\) est une similitude directe de rapport \(|\sqrt{3}+i| = 2\) et de centre \(\omega = \sqrt{3} + (\sqrt{3}+i)(i\sqrt{3}) = -3i\), donc le rayon devient \(2 \times 2 = 4\).
                        </div>
                    </div>
                </div>

                <!-- Question 5 -->
                <div class="question-card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h4 class="mb-0">Question 5</h4>
                        <span class="badge bg-primary">1 point</span>
                    </div>
                    <div class="card-body">
                        <p class="card-text">Soit \( M \in \mathcal{M}_n(\mathbb{R}) \) telle que \( M^2 = 4M - 2I_n \). Alors \( M \) est inversible et \( M^{-1} \) est égal à :</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q5" value="a">
                                A. \(\frac{1}{2}M + 2I_n\)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q5" value="b">
                                B. \(2I_n - \frac{1}{2}M\)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q5" value="c">
                                C. \(2I_n + \frac{1}{2}M\)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q5" value="d">
                                D. \(\frac{1}{2}M - 2I_n\)
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q5">
                            <strong>Explication :</strong> De l'équation \( M^2 - 4M = -2I_n \), on obtient \( M(M - 4I_n) = -2I_n \), donc \( M^{-1} = \frac{1}{2}(4I_n - M) = 2I_n - \frac{1}{2}M \).
                        </div>
                    </div>
                </div>

                <!-- Question 6 -->
                <div class="question-card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h4 class="mb-0">Question 6</h4>
                        <span class="badge bg-primary">1 point</span>
                    </div>
                    <div class="card-body">
                        <p class="card-text">Soient \( E \) un espace affine, \( h \) une homothétie de centre \( \Omega \) et de rapport \( k \) (\( k \neq 1 \)) et \( f \) une transformation affine de \( E \) telle que \( f(\Omega) \neq \Omega \). Alors \( f \circ h \circ f^{-1} \) est une homothétie :</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q6" value="a">
                                A. de centre \( \Omega \) et de rapport \( k \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q6" value="b">
                                B. de centre \( f(\Omega) \) et de rapport \( k \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q6" value="c">
                                C. de centre \( f^{-1}(\Omega) \) et de rapport \( k^{-1} \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q6" value="d">
                                D. de centre \( \Omega \) et de rapport \( 2k \)
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q6">
                            <strong>Explication :</strong> La conjuguée d'une homothétie par une transformation affine est une homothétie de même rapport et de centre l'image du centre par la transformation.
                        </div>
                    </div>
                </div>

                <!-- Question 7 -->
                <div class="question-card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h4 class="mb-0">Question 7</h4>
                        <span class="badge bg-primary">1 point</span>
                    </div>
                    <div class="card-body">
                        <p class="card-text">Soient \( f \) et \( g \) deux applications définies de \( ]0, +\infty[ \) vers \( \mathbb{R} \) par : \( f(x) = x + \frac{1}{x} \) et \( g(x) = x - \frac{1}{x} \). Alors :</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q7" value="a">
                                A. \( g \) est bijective sur \( ]0, +\infty[ \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q7" value="b">
                                B. \( f \) est bijective sur \( ]0, +\infty[ \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q7" value="c">
                                C. \( f \) est injective et non surjective sur \( ]0, +\infty[ \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q7" value="d">
                                D. \( g \) est injective et non surjective sur \( ]0, +\infty[ \)
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q7">
                            <strong>Explication :</strong> La fonction \( g \) est strictement croissante (car \( g'(x) = 1 + \frac{1}{x^2} > 0 \)) mais n'est pas surjective car elle tend vers \(-\infty\) en \(0^+\) et vers \(+\infty\) en \(+\infty\), mais ne prend pas la valeur 0.
                        </div>
                    </div>
                </div>

                <!-- Question 8 -->
                <div class="question-card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h4 class="mb-0">Question 8</h4>
                        <span class="badge bg-primary">1 point</span>
                    </div>
                    <div class="card-body">
                        <p class="card-text">On pose \( a = 3^{2023} + 3^{2024} + 3^{2025} + 3^{2026} + 3^{2027} + 3^{2028} + 3^{2029} + 3^{2030} \). Alors :</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q8" value="a">
                                A. \( a \equiv 4 \mod 5 \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q8" value="b">
                                B. \( a \equiv 2 \mod 5 \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q8" value="c">
                                C. \( a \equiv 1 \mod 5 \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q8" value="d">
                                D. \( a \equiv 0 \mod 5 \)
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q8">
                            <strong>Explication :</strong> On peut factoriser \( a = 3^{2023}(1 + 3 + 3^2 + \cdots + 3^7) = 3^{2023} \times \frac{3^8 - 1}{3 - 1} \). Comme \( 3^4 \equiv 1 \mod 5 \), on a \( 3^8 \equiv 1 \mod 5 \), donc \( a \equiv 0 \mod 5 \).
                        </div>
                    </div>
                </div>

                <!-- Question 9 -->
                <div class="question-card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h4 class="mb-0">Question 9</h4>
                        <span class="badge bg-primary">1 point</span>
                    </div>
                    <div class="card-body">
                        <p class="card-text">On jette 20 fois la même pièce de monnaie parfaitement équilibrée. La probabilité que le nombre de piles soit compris entre 14 et 16 est :</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q9" value="a">
                                A. \( C_{20}^{14} + C_{20}^{15} + C_{20}^{16} \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q9" value="b">
                                B. \( \frac{C_{20}^{14} + C_{20}^{15} + C_{20}^{16}}{2^{20}} \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q9" value="c">
                                C. \( \frac{C_{20}^{14} + C_{20}^{15}}{2^{20}} \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q9" value="d">
                                D. \( \frac{C_{20}^{15} + C_{20}^{16}}{2^{20}} \)
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q9">
                            <strong>Explication :</strong> La probabilité d'avoir entre 14 et 16 piles est la somme des probabilités d'avoir 14, 15 ou 16 piles, soit \( \frac{C_{20}^{14} + C_{20}^{15} + C_{20}^{16}}{2^{20}} \).
                        </div>
                    </div>
                </div>

                <!-- Question 10 -->
                <div class="question-card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h4 class="mb-0">Question 10</h4>
                        <span class="badge bg-primary">1 point</span>
                    </div>
                    <div class="card-body">
                        <p class="card-text">Soit \(\varphi: (\mathbb{Z}/12\mathbb{Z}, +) \rightarrow (\mathbb{Z}/12\mathbb{Z}, +)\) un morphisme de groupe défini par \(\varphi(\bar{x}) = 4\bar{x}\). Alors Ker\(\varphi\) est le sous-groupe engendré par :</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q10" value="a">
                                A. 3
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q10" value="b">
                                B. 4
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q10" value="c">
                                C. 5
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q10" value="d">
                                D. 1
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q10">
                            <strong>Explication :</strong> Le noyau est l'ensemble des \(\bar{x}\) tels que \(4x \equiv 0 \mod 12\), c'est-à-dire \(x \equiv 0 \mod 3\). Donc Ker\(\varphi\) est engendré par 3.
                        </div>
                    </div>
                </div>

                <!-- Question 11 -->
                <div class="question-card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h4 class="mb-0">Question 11</h4>
                        <span class="badge bg-primary">1 point</span>
                    </div>
                    <div class="card-body">
                        <p class="card-text">Le système suivant 
                        \[
                        \begin{cases}
                        5x - 3y - z = 9 \\
                        -2x + 2y + 2z = b \\
                        -3x + y - z = -4
                        \end{cases}
                        \]
                        admet des solutions dans \(\mathbb{R}^3\) pour une valeur de \(b\) égale à :</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q11" value="a">
                                A. -4
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q11" value="b">
                                B. -3
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q11" value="c">
                                C. -5
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q11" value="d">
                                D. -6
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q11">
    <strong>Explication :</strong> 
    Le système admet des solutions si \(b = -5\). Cependant, pour que le système soit compatible, il faut que le rang de la matrice des coefficients soit égal au rang de la matrice augmentée. En effectuant les opérations élémentaires, on trouve que pour \(b = -5\), le système est compatible.
</div>
                    </div>
                </div>

                <!-- Question 12 -->
                <div class="question-card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h4 class="mb-0">Question 12</h4>
                        <span class="badge bg-primary">1 point</span>
                    </div>
                    <div class="card-body">
                        <p class="card-text">On pose \(D = \{(x, y) \in \mathbb{R}^2; x \geq 0, y \geq 0, 3 < x^2 + y^2 < 4\}\). La valeur de l'intégrale 
                        \[
                        \iint_D \frac{2xy}{x^2 + y^2} dxdy
                        \]
                        est :</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q12" value="a">
                                A. 2
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q12" value="b">
                                B. 1.5
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q12" value="c">
                                C. 1.4
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q12" value="d">
                                D. 0.5
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q12">
                            <strong>Explication :</strong> En passant en coordonnées polaires, l'intégrale devient \(\int_0^{\pi/2} \int_{\sqrt{3}}^2 \frac{2r^2 \sin\theta \cos\theta}{r^2} r dr d\theta = \frac{1}{2}\).
                        </div>
                    </div>
                </div>

                <!-- Question 13 -->
                <div class="question-card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h4 class="mb-0">Question 13</h4>
                        <span class="badge bg-primary">1 point</span>
                    </div>
                    <div class="card-body">
                        <p class="card-text">\[
                        \lim_{x \to 0} \frac{\ln(\cos 2x)}{\ln(\cos 3x)} \text{ est égale à :}
                        \]</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q13" value="a">
                                A. \(-\frac{4}{9}\)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q13" value="b">
                                B. \(\frac{4}{9}\)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q13" value="c">
                                C. \(\frac{2}{3}\)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q13" value="d">
                                D. \(-\frac{2}{3}\)
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q13">
                            <strong>Explication :</strong> En utilisant les développements limités, \(\ln(\cos u) \approx -\frac{u^2}{2}\) pour \(u \to 0\), donc la limite est \(\frac{(2x)^2}{(3x)^2} = \frac{4}{9}\).
                        </div>
                    </div>
                </div>

                <!-- Question 14 -->
                <div class="question-card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h4 class="mb-0">Question 14</h4>
                        <span class="badge bg-primary">1 point</span>
                    </div>
                    <div class="card-body">
                        <p class="card-text">On considère dans \(M_2(\mathbb{R})\) la matrice suivante \(M = 
                        \begin{pmatrix}
                        \cos^2 a & \sin^2 a \\
                        \sin^2 a & \cos^2 a
                        \end{pmatrix}\) où \(a \in \mathbb{R}\). La matrice \(M\) est diagonalisable sur \(M_2(\mathbb{R})\) :</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q14" value="a">
                                A. uniquement pour \(a = 0\)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q14" value="b">
                                B. uniquement pour \(a = \frac{\pi}{2}\)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q14" value="c">
                                C. uniquement pour \(a = \frac{\pi}{3}\)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q14" value="d">
                                D. aucune des affirmations précédentes n'est correcte
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q14">
                            <strong>Explication :</strong> La matrice \(M\) est toujours diagonalisable car symétrique réelle (théorème spectral), quelle que soit la valeur de \(a\).
                        </div>
                    </div>
                </div>

                <!-- Question 15 -->
                <div class="question-card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h4 class="mb-0">Question 15</h4>
                        <span class="badge bg-primary">1 point</span>
                    </div>
                    <div class="card-body">
                        <p class="card-text">Laquelle des parties suivantes est ouverte dans \(\mathbb{R}^2\) ?</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q15" value="a">
                                A. \(E = \{(x, y) \in \mathbb{R}^2 / xy \geq 2\}\)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q15" value="b">
                                B. \(E = \{(x, y) \in \mathbb{R}^2 / 2 \leq y \leq x\}\)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q15" value="c">
                                C. \(E = \{(x, y) \in \mathbb{R}^2 / 0 < |x - 2| < 2\}\)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q15" value="d">
                                D. \(E = \{(x, y) \in \mathbb{R}^2 / xy = 2\}\)
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q15">
                            <strong>Explication :</strong> L'ensemble C est ouvert car c'est une bande ouverte autour de la droite \(x = 2\), tandis que les autres sont des ensembles fermés ou semi-fermés.
                        </div>
                    </div>
                </div>

                <!-- Question 16 -->
                <div class="question-card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h4 class="mb-0">Question 16</h4>
                        <span class="badge bg-primary">1 point</span>
                    </div>
                    <div class="card-body">
                        <p class="card-text">Soient \(F\) et \(G\) deux ensembles bornés non vides de \(\mathbb{R}\). Alors :</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q16" value="a">
                                A. \(\sup(F \cup G) = \max(\sup(F), \sup(G))\)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q16" value="b">
                                B. \(\sup(F \cup G) = \sup(F) \times \sup(G)\)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q16" value="c">
                                C. \(\sup(F \cup G) = \sup(F) + \sup(G)\)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q16" value="d">
                                D. \(\sup(F \cup G) = \sup(F) + \sup(G) - \sup(F \cap G)\)
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q16">
                            <strong>Explication :</strong> La borne supérieure d'une union est le maximum des bornes supérieures des ensembles.
                        </div>
                    </div>
                </div>

                <!-- Question 17 -->
                <div class="question-card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h4 class="mb-0">Question 17</h4>
                        <span class="badge bg-primary">1 point</span>
                    </div>
                    <div class="card-body">
                        <p class="card-text">Soit \( X \) une variable aléatoire suivant la loi exponentielle de paramètre 2 dont sa fonction de densité est définie sur \( \mathbb{R} \) par 
                        \[
                        f(x) = 
                        \begin{cases} 
                        2e^{-2x} & \text{si } x \geq 0 \\ 
                        0 & \text{si } x < 0 
                        \end{cases}
                        \]
                        Soit \( \beta \in [0, +\infty] \) tel que \( P(X \leq \beta) = P(X > \beta) \). Alors \( \beta \) est égal à :</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q17" value="a">
                                A. \(\ln(2)\)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q17" value="b">
                                B. \(\frac{\ln(3)}{3}\)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q17" value="c">
                                C. \(\frac{\ln(2)}{2}\)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q17" value="d">
                                D. \(3\ln(3)\)
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q17">
                            <strong>Explication :</strong> On résout \( \int_0^\beta 2e^{-2x} dx = \frac{1}{2} \), ce qui donne \( 1 - e^{-2\beta} = \frac{1}{2} \) donc \( \beta = \frac{\ln 2}{2} \).
                        </div>
                    </div>
                </div>

                <!-- Question 18 -->
                <div class="question-card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h4 class="mb-0">Question 18</h4>
                        <span class="badge bg-primary">1 point</span>
                    </div>
                    <div class="card-body">
                        <p class="card-text">Soit \( f \) la fonction numérique définie sur \([0, +\infty]\) par :
                        \[
                        f(x) =
                        \begin{cases} 
                        \frac{2x - \ln(1 + 2x)}{x}, & \text{si } x > 0 \\ 
                        0, & \text{si } x = 0 
                        \end{cases}
                        \]
                        Alors \( f'_d(0) \) est égale à :</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q18" value="a">
                                A. 1
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q18" value="b">
                                B. 2
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q18" value="c">
                                C. 3
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q18" value="d">
                                D. 4
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q18">
                            <strong>Explication :</strong> En utilisant le développement limité de \(\ln(1+2x)\) en 0, on trouve \( f(x) \approx \frac{2x - (2x - \frac{(2x)^2}{2})}{x} \approx 2x \), donc \( f'_d(0) = 2 \).
                        </div>
                    </div>
                </div>

                <!-- Question 19 -->
                <div class="question-card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h4 class="mb-0">Question 19</h4>
                        <span class="badge bg-primary">1 point</span>
                    </div>
                    <div class="card-body">
                        <p class="card-text">On considère dans l'espace vectoriel \( \mathbb{R}^4 \) muni de la base canonique, les vecteurs \( u_1 = (1, 0, 0, 1), u_2 = (0, 0, 1, 1), u_3 = (0, 0, 2, 2), u_4 = (0, 1, 1, 0) \). Alors le rang de la famille \( (u_1, u_2, u_3, u_4) \) est égal à :</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q19" value="a">
                                A. 4
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q19" value="b">
                                B. 1
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q19" value="c">
                                C. 3
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q19" value="d">
                                D. 2
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q19">
                            <strong>Explication :</strong> Les vecteurs \(u_2\) et \(u_3\) sont colinéaires, et les autres sont linéairement indépendants, donc le rang est 3.
                        </div>
                    </div>
                </div>

                <!-- Question 20 -->
                <div class="question-card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h4 class="mb-0">Question 20</h4>
                        <span class="badge bg-primary">1 point</span>
                    </div>
                    <div class="card-body">
                        <p class="card-text">On considère la fonction \( f : \left[ 0, \frac{3\pi}{2} \right] \rightarrow \mathbb{R} \) définie par \( f(x) = \ln(1 + \sin x) \). Alors pour tout \( x \in \left[ 0, \frac{3\pi}{2} \right] \) on a :</p>
                        <div class="list-group">
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q20" value="a">
                                A. \( f(x) \geq \frac{\pi}{4} - x \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q20" value="b">
                                B. \( f(x) \leq \frac{\pi}{3} - x \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q20" value="c">
                                C. \( f(x) \geq \frac{\pi}{2} - x \)
                            </label>
                            <label class="list-group-item">
                                <input class="form-check-input me-1" type="radio" name="q20" value="d">
                                D. \( f(x) \leq \pi - x \)
                            </label>
                        </div>
                        <div class="explanation" id="explanation-q20">
                            <strong>Explication :</strong> En étudiant la fonction \( g(x) = \ln(1 + \sin x) - (\frac{\pi}{2} - x) \), on montre qu'elle est croissante et toujours positive sur l'intervalle donné.
                        </div>
                    </div>
                </div>

                <div class="text-center mt-5">
                    <button id="submit-answers" class="btn btn-primary btn-lg px-5">
                        <i class="fas fa-check-circle me-2"></i>Soumettre les réponses
                    </button>
                    <button id="return-to-results" class="btn btn-outline-primary btn-lg px-5 d-none">
                        <i class="fas fa-arrow-left me-2"></i>Retour aux résultats
                    </button>
                </div>
            </section>
        </div>

        <!-- Results Section -->
        <div class="main-container hidden-section" id="results-section">
            <div class="card border-0 shadow-sm">
                <div class="card-header">
                    <h4 class="mb-0"><i class="fas fa-chart-bar me-2"></i>Résultats du test</h4>
                </div>
                <div class="card-body">
                    <div class="text-center mb-5">
                        <h3 id="final-score">Score: 0/20</h3>
                        <p id="score-feedback" class="score-feedback"></p>
                        <div class="progress mt-3 mb-4">
                            <div id="final-progress" class="progress-bar" role="progressbar" style="width: 0%"></div>
                        </div>
                    </div>
                    
                    <div class="d-flex justify-content-center gap-3 flex-wrap">
                        <button id="review-answers" class="btn btn-outline-primary mb-2">
                            <i class="fas fa-search me-2"></i>Voir les réponses
                        </button>
                        <button id="restart-quiz" class="btn btn-primary mb-2">
                            <i class="fas fa-redo me-2"></i>Recommencer
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Correct answers
        const correctAnswers = {
            q1: "d", q2: "b", q3: "d", q4: "b", q5: "b",
            q6: "b", q7: "d", q8: "d", q9: "b", q10: "a",
            q11: "c", q12: "d", q13: "b", q14: "d", q15: "c",
            q16: "a", q17: "c", q18: "b", q19: "c", q20: "c"
        };

        // Global variables
        let timer;
        let timeLeft = 1800; // 30 minutes in seconds
        let quizStarted = false;
        const totalQuestions = Object.keys(correctAnswers).length;

        // DOM Elements
        const startBtn = document.getElementById('start-timer');
        const submitBtn = document.getElementById('submit-answers');
        const reviewBtn = document.getElementById('review-answers');
        const restartBtn = document.getElementById('restart-quiz');
        const fixedTimer = document.getElementById('fixedTimer');
        const timerDisplay = document.getElementById('fixed-timer-display');
        const instructionsSection = document.getElementById('instructions-section');
        const qcmSection = document.getElementById('qcm-section');
        const resultsSection = document.getElementById('results-section');
        const finalScore = document.getElementById('final-score');
        const finalProgress = document.getElementById('final-progress');
        const scoreFeedback = document.getElementById('score-feedback');

        // Start the quiz
        if (startBtn) {
            startBtn.addEventListener('click', function() {
                if (!quizStarted) {
                    quizStarted = true;
                    instructionsSection.classList.add('hidden-section');
                    qcmSection.classList.remove('hidden-section');
                    fixedTimer.classList.add('active');
                    timer = setInterval(updateTimer, 1000);
                    updateTimer();
                    document.querySelector('.question-card')?.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        }

        // Update timer function
        function updateTimer() {
            timeLeft--;
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            if (timeLeft <= 300) {
                fixedTimer.classList.add('warning');
                fixedTimer.classList.remove('danger');
            }
            if (timeLeft <= 60) {
                fixedTimer.classList.remove('warning');
                fixedTimer.classList.add('danger');
            }
            if (timeLeft <= 0) {
                clearInterval(timer);
                validateQuiz();
            }
        }

        // Validate quiz and show results
        function validateQuiz() {
            clearInterval(timer);
            fixedTimer.classList.remove('active');
            let score = 0;
            const userAnswers = {};
            for (let i = 1; i <= totalQuestions; i++) {
                const qName = `q${i}`;
                const selected = document.querySelector(`input[name="${qName}"]:checked`);
                const correct = correctAnswers[qName];
                userAnswers[qName] = selected ? selected.value : null;
                if (selected) {
                    if (selected.value === correct) {
                        score++;
                        selected.parentElement.classList.add('correct-answer');
                    } else {
                        selected.parentElement.classList.add('incorrect-answer');
                        const correctOption = document.querySelector(`input[name="${qName}"][value="${correct}"]`);
                        if (correctOption) correctOption.parentElement.classList.add('correct-answer');
                    }
                } else {
                    const correctOption = document.querySelector(`input[name="${qName}"][value="${correct}"]`);
                    if (correctOption) correctOption.parentElement.classList.add('correct-answer');
                }
                const explanation = document.getElementById(`explanation-${qName}`);
                if (explanation) explanation.style.display = 'block';
            }
            const percent = Math.round((score / totalQuestions) * 100);
            finalScore.textContent = `Score: ${score}/${totalQuestions}`;
            finalProgress.style.width = `${percent}%`;
            finalProgress.textContent = `${percent}%`;
            finalProgress.classList.remove('bg-success', 'bg-warning', 'bg-danger');
            if (percent >= 75) {
                finalProgress.classList.add('bg-success');
                scoreFeedback.textContent = "Excellent travail ! Vous maîtrisez parfaitement ces concepts.";
                scoreFeedback.className = "score-feedback score-excellent";
            } else if (percent >= 50) {
                finalProgress.classList.add('bg-warning');
                scoreFeedback.textContent = "Bon travail, mais il y a encore des domaines à améliorer.";
                scoreFeedback.className = "score-feedback score-good";
            } else {
                finalProgress.classList.add('bg-danger');
                scoreFeedback.textContent = "Continuez à pratiquer, vous pouvez faire mieux !";
                scoreFeedback.className = "score-feedback score-poor";
            }
            qcmSection.classList.add('hidden-section');
            resultsSection.classList.remove('hidden-section');
            resultsSection.scrollIntoView({ behavior: 'smooth' });
            localStorage.setItem('quizResults', JSON.stringify({
                score: score,
                total: totalQuestions,
                percentage: percent,
                answers: userAnswers,
                date: new Date().toLocaleString()
            }));
        }

        // Event listeners for action buttons
        if (submitBtn) {
            submitBtn.addEventListener('click', function(e) {
                e.preventDefault();
                if (confirm("Êtes-vous sûr de vouloir soumettre vos réponses ? Vous ne pourrez plus les modifier.")) {
                    validateQuiz();
                }
            });
        }

        if (reviewBtn) {
            reviewBtn.addEventListener('click', function() {
                resultsSection.classList.add('hidden-section');
                qcmSection.classList.remove('hidden-section');
                qcmSection.scrollIntoView({ behavior: 'smooth' });

                // Show "Retour aux résultats" button and hide "Soumettre les réponses"
                document.getElementById('submit-answers').classList.add('d-none');
                document.getElementById('return-to-results').classList.remove('d-none');
            });
        }

        document.getElementById('return-to-results').addEventListener('click', function() {
            qcmSection.classList.add('hidden-section');
            resultsSection.classList.remove('hidden-section');
            resultsSection.scrollIntoView({ behavior: 'smooth' });

            // Show "Soumettre les réponses" button and hide "Retour aux résultats"
            document.getElementById('submit-answers').classList.remove('d-none');
            document.getElementById('return-to-results').classList.add('d-none');
        });

        if (restartBtn) {
            restartBtn.addEventListener('click', function() {
                location.reload();
            });
        }

        // Keyboard shortcut: Ctrl+Enter to submit
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.key === 'Enter') {
                if (submitBtn) submitBtn.click();
            }
        });
    </script>
</body>
</html>